# To get started with Dependabot version updates, you'll need to specify which
# package ecosystems to update and where the package manifests are located.
# Please see the documentation for all configuration options:
# https://docs.github.com/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file

version: 2
updates:
  # Maven dependencies
  - package-ecosystem: maven
    directory: "/"
    schedule:
      interval: weekly
      day: monday
    open-pull-requests-limit: 5
    labels:
      - "dependencies"
      - "java"
    ignore:
      # Quarkus LTS Strategy:
      # - Current LTS: 3.27.x (released Oct 2024, supported until Oct 2025)
      # - LTS cadence: Every 6 months (next LTS ~Apr 2025, likely 3.33.x)
      # - This config allows patch updates (3.27.0 â†’ 3.27.1) for security/bug fixes
      # - Blocks minor updates (3.28, 3.29, etc.) which are NOT LTS versions
      # - Blocks major updates (4.x) which have breaking changes
      #
      # IMPORTANT: When a new LTS is released, manually update quarkus.version in pom.xml
      # Next LTS review: Check https://quarkus.io/blog/ around April 2025
      - dependency-name: "io.quarkus:*"
        update-types:
          - "version-update:semver-major"
          - "version-update:semver-minor"
    commit-message:
      prefix: "chore"
      include: "scope"

  # GitHub Actions dependencies
  - package-ecosystem: github-actions
    directory: "/"
    schedule:
      interval: weekly
      day: monday
    open-pull-requests-limit: 3
    labels:
      - "dependencies"
    commit-message:
      prefix: "chore"
      include: "scope"

  # Docker dependencies (integration test images)
  - package-ecosystem: docker
    directory: "/integration-tests"
    schedule:
      interval: weekly
      day: monday
    open-pull-requests-limit: 3
    labels:
      - "dependencies"
      - "docker"
    commit-message:
      prefix: "chore"
      include: "scope"